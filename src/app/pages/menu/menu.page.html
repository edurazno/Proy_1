<ion-menu contentId="content">
  <ion-header>
    <ion-toolbar color="primary" class="ion-text-center">
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <div *ngFor="let page of pages">

      <ion-menu-toggle *ngIf="page.url">
        <ion-item [routerLink]="page.url" routerDirection="root">
          <ion-icon [name]="page.icon" slot="start"></ion-icon>
          <ion-label>
            {{page.titulo}}
          </ion-label>
        </ion-item>
      </ion-menu-toggle>

      <ion-item button *ngIf="page.children?.length>0" (click)="page.open= !page.open">
        <ion-icon slot="start" [name]="page.icon"></ion-icon>
        <ion-icon slot="end" name="arrow-forward" *ngIf="!page.open"></ion-icon>
        <ion-icon slot="end" name="arrow-down" *ngIf="page.open"></ion-icon>
        <ion-label>
          {{page.titulo}}
        </ion-label>


      </ion-item>
      <ion-list *ngIf="page.open" class="ion-padding">
        <ion-menu-toggle *ngFor="let p of page.children">
          <ion-item [routerLink]="p.url" routerDirection="root">
            <ion-icon [name]="p.icon" slot="start"></ion-icon>
            <ion-label>
              {{p.titulo}}
            </ion-label>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>
    </div>
  </ion-content>
</ion-menu>
<ion-router-outlet id="content" main>

</ion-router-outlet>